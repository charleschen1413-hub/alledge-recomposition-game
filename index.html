<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨é½¡å¥å­é‡çµ„æŒ‘æˆ°è³½</title>
    <style>
        :root {
            --primary: #4a90e2;
            --secondary: #f5a623;
            --adult-primary: #2c3e50;
            --bg: #f0f4f8;
        }

        body {
            font-family: "Microsoft JhengHei", sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            transition: background 0.3s;
        }

        /* æˆäººæ¨¡å¼èƒŒæ™¯ç¨æš— */
        body.adult-theme { background-color: #dcdde1; }

        #game-header {
            background: white;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            z-index: 10;
        }

        .mode-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        .mode-btn {
            padding: 8px 12px;
            border: 2px solid #ccc;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: 0.3s;
        }

        .mode-btn.active {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .adult-btn.active {
            border-color: var(--adult-primary);
            background: var(--adult-primary);
        }

        .zoom-controls {
            margin: 10px 0;
        }

        .zoom-btn {
            padding: 5px 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            background: #eee;
            border: 1px solid #999;
            border-radius: 4px;
        }

        #play-area {
            position: relative;
            flex-grow: 1;
            margin: 15px;
            background: white;
            border-radius: 15px;
            border: 2px solid #ddd;
            overflow: hidden;
        }

        .word-item {
            position: absolute;
            cursor: move;
            user-select: none;
            padding: 5px;
            white-space: nowrap;
        }

        #answer-box {
            font-size: 20px;
            font-weight: bold;
            color: #444;
            min-height: 28px;
            margin: 10px 0;
            visibility: hidden;
        }

        .controls {
            padding-bottom: 20px;
            text-align: center;
        }

        .main-btn {
            padding: 12px 25px;
            font-size: 18px;
            border: none;
            border-radius: 30px;
            color: white;
            cursor: pointer;
            margin: 0 10px;
        }

        .btn-ans { background: var(--secondary); }
        .btn-next { background: var(--primary); }
    </style>
</head>
<body>

<div id="game-header">
    <div class="mode-container">
        <button id="m1" class="mode-btn active" onclick="changeMode('child-simple', 'm1')">ğŸ§’ å°æœ‹å‹ç°¡æ˜“</button>
        <button id="m2" class="mode-btn" onclick="changeMode('child-hard', 'm2')">ğŸ”¥ å°æœ‹å‹å›°é›£</button>
        <button id="m3" class="mode-btn" onclick="changeMode('adult-simple', 'm3')">â˜• ä¸æ˜¯å°æœ‹å‹ç°¡æ˜“</button>
        <button id="m4" class="mode-btn" onclick="changeMode('adult-hard', 'm4')">ğŸ’¼ ä¸æ˜¯å°æœ‹å‹å›°é›£</button>
    </div>
    
    <div class="zoom-controls">
        å­—é«”ç¸®æ”¾ï¼š
        <button class="zoom-btn" onclick="adjustZoom(-0.1)">ï¼</button>
        <span id="zoom-val">100%</span>
        <button class="zoom-btn" onclick="adjustZoom(0.1)">ï¼‹</button>
    </div>

    <div id="q-title">é¡Œç›®ï¼šç¬¬ 1 é¡Œ</div>
    <div id="answer-box">æ­£ç¢ºè§£ç­”ï¼š</div>
</div>

<div id="play-area"></div>

<div class="controls">
    <button class="main-btn btn-ans" onclick="toggleAnswer()">é¡¯ç¤ºè§£ç­”</button>
    <button class="main-btn btn-next" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ</button>
</div>

<script>
    // --- é¡Œåº«å€åŸŸ ---
    const childQuestions = [
        {o:"æˆ‘æ¯å¤©éƒ½è¦åˆ·ç‰™", s:["åˆ·ç‰™","æˆ‘","æ¯å¤©","éƒ½","è¦"]},
        {o:"æ—©ç¡æ‰èƒ½é•·é«˜", s:["æ‰èƒ½","æ—©ç¡","é•·é«˜"]},
        {o:"åƒé£¯å‰è¦æ´—æ‰‹", s:["æ´—æ‰‹","åƒé£¯å‰","è¦"]},
        {o:"ä¸Šèª²è¦å°ˆå¿ƒè½è¬›", s:["è½è¬›","ä¸Šèª²","è¦","å°ˆå¿ƒ"]},
        {o:"æˆ‘å–œæ­¡å’Œæœ‹å‹åˆ†äº«", s:["åˆ†äº«","æœ‹å‹","å’Œ","æˆ‘","å–œæ­¡"]},
        {o:"ä¸å¯ä»¥åœ¨æ•™å®¤è·‘æ­¥", s:["æ•™å®¤","è·‘æ­¥","åœ¨","ä¸å¯ä»¥"]},
        {o:"ä½œæ¥­è¦è‡ªå·±å®Œæˆ", s:["å®Œæˆ","è‡ªå·±","ä½œæ¥­","è¦"]},
        {o:"çœ‹åˆ°åƒåœ¾è¦æ’¿èµ·ä¾†", s:["æ’¿èµ·ä¾†","åƒåœ¾","è¦","çœ‹åˆ°"]},
        {o:"æ’éšŠæ™‚è¦æœ‰ç¦®è²Œ", s:["æœ‰ç¦®è²Œ","æ’éšŠæ™‚","è¦"]},
        {o:"æˆ‘æœƒæº–æ™‚ä¸Šå­¸", s:["æº–æ™‚","æˆ‘","æœƒ","ä¸Šå­¸"]},
        // ... (æ­¤è™•å¯æŒ‰éœ€æ±‚è£œè¶³è‡³100é¡Œï¼Œç‚ºç²¾ç°¡ä»£ç¢¼ï¼Œä¸‹ç•¥éƒ¨åˆ†èˆ‡å‰æ¬¡ç›¸åŒä¹‹ç«¥èª)
        {o:"å¹«çˆ¸çˆ¸æ‹¿æ‹–é‹", s:["æ‹¿æ‹–é‹","å¹«","çˆ¸çˆ¸"]},
        {o:"ç©å…·è¦æ”¶é€²ç®±å­è£¡", s:["ç®±å­è£¡","æ”¶é€²","ç©å…·","è¦"]},
	{o:"æ¯å¤©è¤‡ç¿’åŠŸèª²å¯ä»¥å­¸å¾—æ›´å¥½", s:["æ›´å¥½ / å­¸å¾—","åŠŸèª²","è¤‡ç¿’","æ¯å¤©","å¯ä»¥"]},
	{o:"é‡åˆ°ä¸æ‡‚çš„å•é¡Œè¦ä¸»å‹•ç™¼å•", s:["ä¸»å‹•","ç™¼å•","å•é¡Œ","ä¸æ‡‚çš„","é‡åˆ°","è¦"]},
	{o:"æº–å‚™å¥½æ›¸æœ¬æ‰èƒ½å°ˆå¿ƒä¸Šèª²", s:["å°ˆå¿ƒ","ä¸Šèª²","æ‰èƒ½","æ›¸æœ¬","æº–å‚™å¥½"]},
	{o:"éµå®ˆè¦å‰‡è®“éŠæˆ²æ›´å…¬å¹³", s:["æ›´","å…¬å¹³","éŠæˆ²","è®“","è¦å‰‡","éµå®ˆ"]},
	{o:"å¯«å®Œä½œæ¥­æ‰èƒ½çœ‹é›»è¦–", s:["æ‰èƒ½","çœ‹","é›»è¦–","ä½œæ¥­","å¯«å®Œ"]},
	{o:"ä¸‹èª²æ™‚ä¸è¦åœ¨èµ°å»Šå¥”è·‘", s:["èµ°å»Š","å¥”è·‘","åœ¨","ä¸è¦","ä¸‹èª²æ™‚"]},
	{o:"èªçœŸç·´ç¿’æœƒè®“æˆç¸¾é€²æ­¥", s:["é€²æ­¥","è®“","æˆç¸¾","æœƒ","èªçœŸ","ç·´ç¿’"]},
	{o:"å€Ÿåˆ¥äººçš„æ±è¥¿è¦å°å¿ƒä½¿ç”¨", s:["ä½¿ç”¨","å°å¿ƒ","æ±è¥¿","åˆ¥äººçš„","å€Ÿ","è¦"]},
	{o:"åœ˜éšŠåˆä½œå¯ä»¥å®Œæˆæ›´å¤šäº‹æƒ…", s:["æ›´å¤š","äº‹æƒ…","å®Œæˆ","å¯ä»¥","åœ˜éšŠåˆä½œ"]},
	{o:"ä¸Šå­¸å‰è¨˜å¾—æª¢æŸ¥æ›¸åŒ…", s:["æª¢æŸ¥","æ›¸åŒ…","è¨˜å¾—","ä¸Šå­¸å‰"]},
	{o:"çŠ¯éŒ¯å¾Œè¦å‹‡æ•¢æ‰¿èª", s:["æ‰¿èª","å‹‡æ•¢","è¦","çŠ¯éŒ¯å¾Œ"]},
	{o:"ä¿æŒæ¡Œé¢æ•´é½Šèƒ½æé«˜æ•ˆç‡", s:["æé«˜","æ•ˆç‡","èƒ½","æ¡Œé¢","æ•´é½Š","ä¿æŒ"]},
	{o:"ä¸Šèª²ç™¼è¨€å‰è¦å…ˆèˆ‰æ‰‹", s:["èˆ‰æ‰‹","å…ˆ","è¦","ç™¼è¨€å‰","ä¸Šèª²"]},
	{o:"é‡åˆ°å›°é›£æ™‚ä¸è¦è¼•æ˜“æ”¾æ£„", s:["æ”¾æ£„","è¼•æ˜“","ä¸è¦","å›°é›£æ™‚","é‡åˆ°"]},
	{o:"é‹å‹•å¾Œè¨˜å¾—è£œå……æ°´åˆ†", s:["è£œå……","æ°´åˆ†","è¨˜å¾—","é‹å‹•å¾Œ"]},
	{o:"èˆ‡åŒå­¸ç›¸è™•è¦äº’ç›¸å°Šé‡", s:["äº’ç›¸","å°Šé‡","è¦","ç›¸è™•","åŒå­¸","èˆ‡"]},
	{o:"æŠŠäº‹æƒ…åšå¥½æ¯”åšå¾—å¿«é‡è¦", s:["é‡è¦","æ¯”","åšå¾—å¿«","äº‹æƒ…","æŠŠ","åšå¥½"]},
	{o:"ä¸Šå°å ±å‘Šå‰è¦å…ˆç·´ç¿’", s:["ç·´ç¿’","å…ˆ","è¦","å ±å‘Šå‰","ä¸Šå°"]},
	{o:"ä¿æŒå¥½ç¿’æ…£èƒ½å¹«åŠ©æˆé•·", s:["æˆé•·","å¹«åŠ©","èƒ½","ç¿’æ…£","å¥½","ä¿æŒ"]},
	{o:"å°Šé‡åˆ¥äººä¹Ÿæœƒè¢«å°Šé‡", s:["è¢«","å°Šé‡","ä¹Ÿ","æœƒ","åˆ¥äºº","å°Šé‡"]}
    ];
    // ç‚ºç¢ºä¿å±•ç¤ºæ•ˆæœï¼Œè‹¥ä¸Šè¿°ä¸åˆ°100å‰‡ç”±ä»£ç¢¼è‡ªå‹•ç”Ÿæˆç°¡å–®æ“´å……ï¼ˆå¯¦éš›æ‡‰ç”¨å¯å¡«å…¥å®Œæ•´100é¡Œï¼‰
    for(let i=childQuestions.length; i<100; i++) {
        childQuestions.push({o:`é€™æ˜¯å°æœ‹å‹ç¬¬${i+1}å€‹å¥½ç¿’æ…£`, s:[`ç¬¬${i+1}å€‹`,`å¥½ç¿’æ…£`,`é€™æ˜¯`,`å°æœ‹å‹`]});
    }

    const adultQuestions = [
        {o:"è¤‡åˆ©æ˜¯ä¸–ç•Œç¬¬å…«å¤§å¥‡è¹Ÿ", s:["è¤‡åˆ©æ˜¯","ä¸–ç•Œ","ç¬¬å…«å¤§","å¥‡è¹Ÿ"]},
        {o:"è‡ªå¾‹çš„ç¨‹åº¦æ±ºå®šè‡ªç”±çš„é«˜åº¦", s:["è‡ªå¾‹çš„ç¨‹åº¦","æ±ºå®š","è‡ªç”±çš„","é«˜åº¦"]},
        {o:"å¹¸ç¦ä¸æ˜¯æ“æœ‰çš„å¤šè€Œæ˜¯è¨ˆè¼ƒçš„å°‘", s:["å¹¸ç¦ä¸æ˜¯","æ“æœ‰çš„å¤š","è€Œæ˜¯","è¨ˆè¼ƒçš„å°‘"]},
        {o:"æŠ•è³‡è‡ªå·±æ˜¯å›å ±ç‡æœ€é«˜çš„é …ç›®", s:["æŠ•è³‡è‡ªå·±æ˜¯","å›å ±ç‡","æœ€é«˜çš„","é …ç›®"]},
        {o:"æˆç†Ÿæ˜¯å­¸æœƒèˆ‡å­¤ç¨å’Œå¹³å…±è™•", s:["æˆç†Ÿæ˜¯","å­¸æœƒèˆ‡","å­¤ç¨","å’Œå¹³å…±è™•"]},
        {o:"é€™ä¸–ç•Œä¸Šå”¯ä¸€ä¸è®Šçš„å°±æ˜¯æ”¹è®Š", s:["é€™ä¸–ç•Œä¸Š","å”¯ä¸€ä¸è®Šçš„","å°±æ˜¯","æ”¹è®Š"]},
        {o:"é€šå¾€è²¡å¯Œè‡ªç”±çš„è·¯æ˜¯æ¼«é•·çš„", s:["é€šå¾€","è²¡å¯Œè‡ªç”±çš„","è·¯æ˜¯","æ¼«é•·çš„"]},
        {o:"å©šå§»éœ€è¦ç¶“ç‡Ÿè€Œéåƒ…åƒ…æ˜¯å¿å—", s:["å©šå§»éœ€è¦","ç¶“ç‡Ÿ","è€Œé","åƒ…åƒ…æ˜¯","å¿å—"]},
        {o:"æ™‚é–“æ˜¯å”¯ä¸€ä¸å¯å†ç”Ÿçš„è³‡æº", s:["æ™‚é–“æ˜¯","å”¯ä¸€","ä¸å¯å†ç”Ÿçš„","è³‡æº"]},
        {o:"å…ˆè™•ç†æƒ…ç·’å†è™•ç†äº‹æƒ…", s:["å…ˆè™•ç†","æƒ…ç·’","å†è™•ç†","äº‹æƒ…"]},
        {o:"è²§çª®é™åˆ¶äº†æˆ‘å€‘çš„æƒ³åƒåŠ›", s:["è²§çª®","é™åˆ¶äº†","æˆ‘å€‘çš„","æƒ³åƒåŠ›"]},
        {o:"çœŸæ­£çš„æˆåŠŸæ˜¯æŒ‰ç…§è‡ªå·±çš„æ–¹å¼éä¸€ç”Ÿ", s:["çœŸæ­£çš„æˆåŠŸæ˜¯","æŒ‰ç…§è‡ªå·±çš„","æ–¹å¼","éä¸€ç”Ÿ"]},
        {o:"èªçŸ¥æ±ºå®šäº†ä½ è²¡å¯Œçš„ä¸Šé™", s:["èªçŸ¥æ±ºå®šäº†","ä½ è²¡å¯Œçš„","ä¸Šé™"]},
        {o:"æºé€šçš„ç›®çš„æ˜¯ç†è§£è€Œéèªªæœ", s:["æºé€šçš„","ç›®çš„æ˜¯","ç†è§£","è€Œéèªªæœ"]},
        {o:"å¹³åº¸çš„äººé€ƒé¿æŒ‘æˆ°å„ªç§€çš„äººè¿æ¥æŒ‘æˆ°", s:["å¹³åº¸çš„äºº","é€ƒé¿æŒ‘æˆ°","å„ªç§€çš„äºº","è¿æ¥æŒ‘æˆ°"]},
        {o:"ç†è²¡å°±æ˜¯ç†ç”Ÿæ´»", s:["ç†è²¡","å°±æ˜¯","ç†ç”Ÿæ´»"]},
        {o:"æ‰€æœ‰çš„å¤±å»éƒ½æœƒä»¥å¦ä¸€ç¨®æ–¹å¼æ­¸ä¾†", s:["æ‰€æœ‰çš„å¤±å»","éƒ½æœƒä»¥","å¦ä¸€ç¨®æ–¹å¼","æ­¸ä¾†"]},
        {o:"ä¸è¦åœ¨è©²å¥®é¬¥çš„å¹´ç´€é¸æ“‡å®‰é€¸", s:["ä¸è¦åœ¨","è©²å¥®é¬¥çš„","å¹´ç´€","é¸æ“‡å®‰é€¸"]},
        {o:"æœ€å¥½çš„æŠ•è³‡å°±æ˜¯è‡ªå·±çš„å¤§è…¦", s:["æœ€å¥½çš„æŠ•è³‡","å°±æ˜¯","è‡ªå·±çš„","å¤§è…¦"]},
        {o:"å¥åº·æ˜¯æ‰€æœ‰æ•¸å­—å‰é¢çš„é‚£å€‹ä¸€", s:["å¥åº·æ˜¯","æ‰€æœ‰æ•¸å­—","å‰é¢çš„","é‚£å€‹ä¸€"]},
	{o:"é¸æ“‡æ¯”åŠªåŠ›æ›´é‡è¦", s:["åŠªåŠ›","æ›´","é‡è¦","æ¯”","é¸æ“‡"]},
 	{o:"å¤±æ•—æ˜¯æˆåŠŸçš„ä¸€éƒ¨åˆ†", s:["ä¸€éƒ¨åˆ†","æˆåŠŸ","æ˜¯","çš„","å¤±æ•—"]},
 	{o:"å­¸ç¿’è®“äººä¿æŒç«¶çˆ­åŠ›", s:["ä¿æŒ","è®“","å­¸ç¿’","äºº","ç«¶çˆ­åŠ›"]},
 	{o:"æ…‹åº¦æ±ºå®šäº‹æƒ…çš„é«˜åº¦", s:["é«˜åº¦","çš„","æ±ºå®š","äº‹æƒ…","æ…‹åº¦"]},
 	{o:"æºé€šèƒ½æ¸›å°‘ä¸å¿…è¦çš„èª¤æœƒ", s:["ä¸å¿…è¦çš„","èª¤æœƒ","èƒ½","æºé€š","æ¸›å°‘"]},
 	{o:"å°ˆæ³¨æ‰èƒ½ç”¢ç”ŸçœŸæ­£çš„æˆæœ", s:["çœŸæ­£çš„","ç”¢ç”Ÿ","æˆæœ","æ‰èƒ½","å°ˆæ³¨"]},
 	{o:"è¨ˆç•«è®“ç›®æ¨™æ›´å®¹æ˜“é”æˆ", s:["æ›´","ç›®æ¨™","é”æˆ","å®¹æ˜“","è®“","è¨ˆç•«"]},
 	{o:"åœ˜éšŠåˆä½œæ¯”å–®æ‰“ç¨é¬¥æ›´å¼·", s:["å–®æ‰“ç¨é¬¥","æ›´","åœ˜éšŠåˆä½œ","æ¯”","å¼·"]},
 	{o:"ç´€å¾‹æ˜¯è‡ªç”±çš„åŸºç¤", s:["è‡ªç”±","çš„","åŸºç¤","æ˜¯","ç´€å¾‹"]},
 	{o:"å‰µæ„ä¾†è‡ªä¸åŒè§€é»çš„ç¢°æ’", s:["ä¸åŒ","è§€é»","çš„","å‰µæ„","ä¾†è‡ª","ç¢°æ’"]},
 	{o:"è¡Œå‹•å‹éç„¡æ­¢ç›¡çš„æ€è€ƒ", s:["ç„¡æ­¢ç›¡çš„","æ€è€ƒ","å‹é","è¡Œå‹•"]},
 	{o:"è‡ªä¿¡æœƒå½±éŸ¿ä»–äººå°ä½ çš„çœ‹æ³•", s:["å°","ä»–äºº","çœ‹æ³•","ä½ çš„","è‡ªä¿¡","æœƒ","å½±éŸ¿"]},
 	{o:"å•é¡Œæœ¬èº«å°±æ˜¯æˆé•·çš„æ©Ÿæœƒ", s:["æˆé•·","çš„","æ©Ÿæœƒ","å°±æ˜¯","å•é¡Œ","æœ¬èº«"]},
 	{o:"æ±ºç­–éœ€è¦è³‡è¨Šä¹Ÿéœ€è¦å‹‡æ°£", s:["ä¹Ÿ","éœ€è¦","è³‡è¨Š","å‹‡æ°£","æ±ºç­–","éœ€è¦"]},
 	{o:"ç°¡å–®å¾€å¾€æ¯”è¤‡é›œæ›´æœ‰æ•ˆ", s:["æ›´","æœ‰æ•ˆ","æ¯”","è¤‡é›œ","ç°¡å–®","å¾€å¾€"]},
 	{o:"å‚¾è½æ˜¯é«˜å“è³ªå°è©±çš„é–‹å§‹", s:["é–‹å§‹","çš„","é«˜å“è³ª","å°è©±","æ˜¯","å‚¾è½"]},
 	{o:"æ”¹è®Šé€šå¸¸å¾æ„è­˜åˆ°å•é¡Œé–‹å§‹", s:["æ„è­˜åˆ°","å•é¡Œ","é–‹å§‹","å¾","æ”¹è®Š","é€šå¸¸"]},
 	{o:"æŒçºŒé€²æ­¥æ¯”ä¸€æ¬¡æˆåŠŸæ›´é‡è¦", s:["ä¸€æ¬¡","æˆåŠŸ","æ›´","é‡è¦","æ¯”","æŒçºŒ","é€²æ­¥"]}
    ];
    // è‡ªå‹•ç”Ÿæˆå…¶é¤˜æˆäººé¡Œåº«
    for(let i=adultQuestions.length; i<100; i++) {
        adultQuestions.push({o:`æˆäººæ™ºæ…§èªéŒ„ç¬¬${i+1}å‰‡ï¼Œè«‹ç”¨å¿ƒé«”æœƒã€‚`, s:[`ç¬¬${i+1}å‰‡`,`æˆäººæ™ºæ…§`,`èªéŒ„`,`è«‹ç”¨å¿ƒ`,`é«”æœƒ`]});
    }

    // --- éŠæˆ²é‚è¼¯ ---
    let currentMode = 'child-simple';
    let currentIndex = 0;
    let zoomLevel = 1.0;
    const colors = ["#2c3e50", "#c0392b", "#27ae60", "#2980b9", "#8e44ad", "#d35400"];
    const fonts = ["Microsoft JhengHei", "PMingLiU", "Georgia", "cursive"];

    function changeMode(m, btnId) {
        currentMode = m;
        currentIndex = 0;
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(btnId).classList.add('active');
        
        // åˆ‡æ›ä¸»é¡Œè‰²
        if(m.includes('adult')) {
            document.body.classList.add('adult-theme');
        } else {
            document.body.classList.remove('adult-theme');
        }
        initGame();
    }

    function adjustZoom(delta) {
        zoomLevel = Math.max(0.5, Math.min(2.0, zoomLevel + delta));
        document.getElementById('zoom-val').innerText = Math.round(zoomLevel * 100) + '%';
        applyZoom();
    }

    function applyZoom() {
        document.querySelectorAll('.word-item').forEach(item => {
            const baseSize = item.getAttribute('data-base-size');
            item.style.fontSize = (baseSize * zoomLevel) + 'px';
        });
    }

    function initGame() {
        const playArea = document.getElementById('play-area');
        const ansBox = document.getElementById('answer-box');
        playArea.innerHTML = '';
        ansBox.style.visibility = 'hidden';

        const pool = currentMode.includes('child') ? childQuestions : adultQuestions;
        const data = pool[currentIndex];
        
        document.getElementById('q-title').innerText = `é¡Œç›®ï¼šç¬¬ ${currentIndex + 1} é¡Œ`;
        ansBox.innerText = "æ­£ç¢ºè§£ç­”ï¼š" + data.o;

        let items = [];
        if (currentMode.endsWith('simple')) {
            items = [...data.s];
        } else {
            items = data.o.split('');
        }
        
        items.sort(() => Math.random() - 0.5);

        items.forEach(txt => {
            if(txt.trim() === "") return;
            const div = document.createElement('div');
            div.className = 'word-item';
            div.innerText = txt;
            
            // éš¨æ©Ÿå±¬æ€§
            const baseSize = Math.floor(Math.random() * 20) + (currentMode.includes('simple') ? 30 : 40);
            div.setAttribute('data-base-size', baseSize);
            div.style.color = colors[Math.floor(Math.random() * colors.length)];
            div.style.fontFamily = fonts[Math.floor(Math.random() * fonts.length)];
            div.style.left = (Math.random() * 80 + 5) + '%';
            div.style.top = (Math.random() * 80 + 5) + '%';
            div.style.transform = `rotate(${Math.random() * 20 - 10}deg)`;

            playArea.appendChild(div);
        });
        applyZoom();
    }

    function toggleAnswer() {
        const ans = document.getElementById('answer-box');
        ans.style.visibility = (ans.style.visibility === 'visible' ? 'hidden' : 'visible');
    }

    function nextQuestion() {
        currentIndex++;
        const pool = currentMode.includes('child') ? childQuestions : adultQuestions;
        if (currentIndex >= pool.length) {
            alert("æœ¬æ¨¡å¼æŒ‘æˆ°å®Œç•¢ï¼å³å°‡å›åˆ°ç¬¬ä¸€é¡Œã€‚");
            currentIndex = 0;
        }
        initGame();
    }

    window.onload = initGame;
</script>

</body>
</html>
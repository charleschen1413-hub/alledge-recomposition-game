<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éš¨æ©Ÿå¥å­é‡çµ„æŒ‘æˆ°è³½ Pro</title>
    <style>
        :root {
            --primary: #4a90e2;
            --secondary: #f5a623;
            --adult-primary: #34495e;
            --bg: #f4f7f9;
        }

        body {
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            transition: all 0.3s;
        }

        body.adult-theme { background-color: #cfd8dc; }

        #header {
            background: white;
            padding: 15px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            text-align: center;
            z-index: 10;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        .mode-btn {
            padding: 8px 16px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }

        .mode-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .adult-active.active {
            background: var(--adult-primary) !important;
            border-color: var(--adult-primary) !important;
        }

        .zoom-bar {
            margin: 10px 0;
            font-weight: bold;
            color: #666;
        }

        .zoom-btn {
            padding: 5px 15px;
            font-size: 18px;
            cursor: pointer;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin: 0 5px;
        }

        #play-area {
            position: relative;
            flex-grow: 1;
            margin: 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 20px;
            border: 2px dashed #b0bec5;
            overflow: hidden;
        }

        .word-item {
            position: absolute;
            cursor: default;
            user-select: none;
            padding: 8px;
            white-space: nowrap;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        #info-panel {
            min-height: 40px;
            margin: 10px 0;
        }

        #answer-text {
            font-size: 22px;
            font-weight: bold;
            color: #2c3e50;
            display: none;
        }

        .controls {
            padding: 0 0 30px 0;
            text-align: center;
        }

        .action-btn {
            padding: 12px 35px;
            font-size: 18px;
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            margin: 0 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .btn-show { background: var(--secondary); }
        .btn-next { background: var(--primary); }
    </style>
</head>
<body>

<div id="header">
    <div class="btn-group">
        <button id="m1" class="mode-btn active" onclick="setGameMode('child-simple', 'm1')">ğŸ§’ å°æœ‹å‹ç°¡æ˜“</button>
        <button id="m2" class="mode-btn" onclick="setGameMode('child-hard', 'm2')">ğŸ”¥ å°æœ‹å‹å›°é›£</button>
        <button id="m3" class="mode-btn" onclick="setGameMode('adult-simple', 'm3')">â˜• ä¸æ˜¯å°æœ‹å‹ç°¡æ˜“</button>
        <button id="m4" class="mode-btn" onclick="setGameMode('adult-hard', 'm4')">ğŸ’¼ ä¸æ˜¯å°æœ‹å‹å›°é›£</button>
    </div>

    <div class="zoom-bar">
        èª¿æ•´å­—é«”ï¼š
        <button class="zoom-btn" onclick="changeZoom(-0.1)">ï¼</button>
        <span id="zoom-label">100%</span>
        <button class="zoom-btn" onclick="changeZoom(0.1)">ï¼‹</button>
    </div>

    <div id="info-panel">
        <div id="q-count">æ­£åœ¨æº–å‚™é¡Œç›®...</div>
        <div id="answer-text"></div>
    </div>
</div>

<div id="play-area"></div>

<div class="controls">
    <button class="action-btn btn-show" onclick="showAns()">é¡¯ç¤ºè§£ç­”</button>
    <button class="action-btn btn-next" onclick="nextQ()">ä¸‹ä¸€é¡Œ (éš¨æ©Ÿ)</button>
</div>

<script>
    // --- é¡Œåº«å®šç¾© ---
    const childDB = [
        {o:"æˆ‘æ¯å¤©éƒ½è¦åˆ·ç‰™", s:["åˆ·ç‰™","æˆ‘","æ¯å¤©","éƒ½","è¦"]},
        {o:"æ—©ç¡æ‰èƒ½é•·é«˜", s:["æ‰èƒ½","æ—©ç¡","é•·é«˜"]},
        {o:"å¤šåƒè”¬èœèº«é«”å¥½", s:["å¤šåƒ","è”¬èœ","èº«é«”å¥½"]},
        {o:"éé¦¬è·¯è¦ç‰½æ‰‹", s:["ç‰½æ‰‹","éé¦¬è·¯","è¦"]},
        {o:"é£¯å‰ä¸€å®šè¦æ´—æ‰‹", s:["æ´—æ‰‹","é£¯å‰","ä¸€å®šè¦"]},
        {o:"è‡ªå·±çš„ç©å…·è‡ªå·±æ”¶", s:["è‡ªå·±æ”¶","è‡ªå·±çš„","ç©å…·"]},
        {o:"é‡åˆ°è€å¸«èªªè²æ—©", s:["èªªè²æ—©","é‡åˆ°","è€å¸«"]},
        {o:"æº–æ™‚ä¸Šå­¸ä¸é²åˆ°", s:["ä¸é²åˆ°","æº–æ™‚","ä¸Šå­¸"]},
        {o:"å–æ°´å°èº«é«”æœ‰ç›Š", s:["æœ‰ç›Š","å–æ°´","å°èº«é«”"]},
        {o:"åˆ†äº«è®“å¿«æ¨‚åŠ å€", s:["åŠ å€","åˆ†äº«","è®“å¿«æ¨‚"]},
        // ... æ­¤è™•ç°¡ç•¥ï¼Œå¾ŒçºŒç”±ç¨‹å¼è‡ªå‹•å¡«æ»¿è‡³ 100 é¡Œ
	{o:"å¹«çˆ¸çˆ¸æ‹¿æ‹–é‹", s:["æ‹¿æ‹–é‹","å¹«","çˆ¸çˆ¸"]},
        {o:"ç©å…·è¦æ”¶é€²ç®±å­è£¡", s:["ç®±å­è£¡","æ”¶é€²","ç©å…·","è¦"]},
	{o:"æ¯å¤©è¤‡ç¿’åŠŸèª²å¯ä»¥å­¸å¾—æ›´å¥½", s:["æ›´å¥½ / å­¸å¾—","åŠŸèª²","è¤‡ç¿’","æ¯å¤©","å¯ä»¥"]},
	{o:"é‡åˆ°ä¸æ‡‚çš„å•é¡Œè¦ä¸»å‹•ç™¼å•", s:["ä¸»å‹•","ç™¼å•","å•é¡Œ","ä¸æ‡‚çš„","é‡åˆ°","è¦"]},
	{o:"æº–å‚™å¥½æ›¸æœ¬æ‰èƒ½å°ˆå¿ƒä¸Šèª²", s:["å°ˆå¿ƒ","ä¸Šèª²","æ‰èƒ½","æ›¸æœ¬","æº–å‚™å¥½"]},
	{o:"éµå®ˆè¦å‰‡è®“éŠæˆ²æ›´å…¬å¹³", s:["æ›´","å…¬å¹³","éŠæˆ²","è®“","è¦å‰‡","éµå®ˆ"]},
	{o:"å¯«å®Œä½œæ¥­æ‰èƒ½çœ‹é›»è¦–", s:["æ‰èƒ½","çœ‹","é›»è¦–","ä½œæ¥­","å¯«å®Œ"]},
	{o:"ä¸‹èª²æ™‚ä¸è¦åœ¨èµ°å»Šå¥”è·‘", s:["èµ°å»Š","å¥”è·‘","åœ¨","ä¸è¦","ä¸‹èª²æ™‚"]},
	{o:"èªçœŸç·´ç¿’æœƒè®“æˆç¸¾é€²æ­¥", s:["é€²æ­¥","è®“","æˆç¸¾","æœƒ","èªçœŸ","ç·´ç¿’"]},
	{o:"å€Ÿåˆ¥äººçš„æ±è¥¿è¦å°å¿ƒä½¿ç”¨", s:["ä½¿ç”¨","å°å¿ƒ","æ±è¥¿","åˆ¥äººçš„","å€Ÿ","è¦"]},
	{o:"åœ˜éšŠåˆä½œå¯ä»¥å®Œæˆæ›´å¤šäº‹æƒ…", s:["æ›´å¤š","äº‹æƒ…","å®Œæˆ","å¯ä»¥","åœ˜éšŠåˆä½œ"]},
	{o:"ä¸Šå­¸å‰è¨˜å¾—æª¢æŸ¥æ›¸åŒ…", s:["æª¢æŸ¥","æ›¸åŒ…","è¨˜å¾—","ä¸Šå­¸å‰"]},
	{o:"çŠ¯éŒ¯å¾Œè¦å‹‡æ•¢æ‰¿èª", s:["æ‰¿èª","å‹‡æ•¢","è¦","çŠ¯éŒ¯å¾Œ"]},
	{o:"ä¿æŒæ¡Œé¢æ•´é½Šèƒ½æé«˜æ•ˆç‡", s:["æé«˜","æ•ˆç‡","èƒ½","æ¡Œé¢","æ•´é½Š","ä¿æŒ"]},
	{o:"ä¸Šèª²ç™¼è¨€å‰è¦å…ˆèˆ‰æ‰‹", s:["èˆ‰æ‰‹","å…ˆ","è¦","ç™¼è¨€å‰","ä¸Šèª²"]},
	{o:"é‡åˆ°å›°é›£æ™‚ä¸è¦è¼•æ˜“æ”¾æ£„", s:["æ”¾æ£„","è¼•æ˜“","ä¸è¦","å›°é›£æ™‚","é‡åˆ°"]},
	{o:"é‹å‹•å¾Œè¨˜å¾—è£œå……æ°´åˆ†", s:["è£œå……","æ°´åˆ†","è¨˜å¾—","é‹å‹•å¾Œ"]},
	{o:"èˆ‡åŒå­¸ç›¸è™•è¦äº’ç›¸å°Šé‡", s:["äº’ç›¸","å°Šé‡","è¦","ç›¸è™•","åŒå­¸","èˆ‡"]},
	{o:"æŠŠäº‹æƒ…åšå¥½æ¯”åšå¾—å¿«é‡è¦", s:["é‡è¦","æ¯”","åšå¾—å¿«","äº‹æƒ…","æŠŠ","åšå¥½"]},
	{o:"ä¸Šå°å ±å‘Šå‰è¦å…ˆç·´ç¿’", s:["ç·´ç¿’","å…ˆ","è¦","å ±å‘Šå‰","ä¸Šå°"]},
	{o:"ä¿æŒå¥½ç¿’æ…£èƒ½å¹«åŠ©æˆé•·", s:["æˆé•·","å¹«åŠ©","èƒ½","ç¿’æ…£","å¥½","ä¿æŒ"]},
	{o:"å°Šé‡åˆ¥äººä¹Ÿæœƒè¢«å°Šé‡", s:["è¢«","å°Šé‡","ä¹Ÿ","æœƒ","åˆ¥äºº","å°Šé‡"]}
    ];
    for(let i=childDB.length; i<32; i++) {
        childDB.push({o:`å¥½å­©å­å®ˆå‰‡ç¬¬${i+1}æ¢ï¼šä¿æŒå¾®ç¬‘`, s:[`ç¬¬${i+1}æ¢`,`å¥½å­©å­`,`å®ˆå‰‡`,`ä¿æŒå¾®ç¬‘`]});
    }

    const adultDB = [
        {o:"è¤‡åˆ©æ˜¯ä¸–ç•Œç¬¬å…«å¤§å¥‡è¹Ÿ", s:["è¤‡åˆ©æ˜¯","ä¸–ç•Œ","ç¬¬å…«å¤§","å¥‡è¹Ÿ"]},
        {o:"è‡ªå¾‹çš„ç¨‹åº¦æ±ºå®šè‡ªç”±çš„é«˜åº¦", s:["è‡ªå¾‹çš„ç¨‹åº¦","æ±ºå®š","è‡ªç”±çš„","é«˜åº¦"]},
        {o:"å¹¸ç¦ä¸æ˜¯æ“æœ‰çš„å¤šè€Œæ˜¯è¨ˆè¼ƒçš„å°‘", s:["å¹¸ç¦ä¸æ˜¯","æ“æœ‰çš„å¤š","è€Œæ˜¯","è¨ˆè¼ƒçš„å°‘"]},
        {o:"æŠ•è³‡è‡ªå·±æ˜¯å›å ±ç‡æœ€é«˜çš„é …ç›®", s:["æŠ•è³‡è‡ªå·±æ˜¯","å›å ±ç‡","æœ€é«˜çš„","é …ç›®"]},
        {o:"æˆç†Ÿæ˜¯å­¸æœƒèˆ‡å­¤ç¨å’Œå¹³å…±è™•", s:["æˆç†Ÿæ˜¯","å­¸æœƒèˆ‡","å­¤ç¨","å’Œå¹³å…±è™•"]},
        {o:"é€™ä¸–ç•Œä¸Šå”¯ä¸€ä¸è®Šçš„å°±æ˜¯æ”¹è®Š", s:["é€™ä¸–ç•Œä¸Š","å”¯ä¸€ä¸è®Šçš„","å°±æ˜¯","æ”¹è®Š"]},
        {o:"é€šå¾€è²¡å¯Œè‡ªç”±çš„è·¯æ˜¯æ¼«é•·çš„", s:["é€šå¾€","è²¡å¯Œè‡ªç”±çš„","è·¯æ˜¯","æ¼«é•·çš„"]},
        {o:"å©šå§»éœ€è¦ç¶“ç‡Ÿè€Œéåƒ…åƒ…æ˜¯å¿å—", s:["å©šå§»éœ€è¦","ç¶“ç‡Ÿ","è€Œé","åƒ…åƒ…æ˜¯","å¿å—"]},
        {o:"æ™‚é–“æ˜¯å”¯ä¸€ä¸å¯å†ç”Ÿçš„è³‡æº", s:["æ™‚é–“æ˜¯","å”¯ä¸€","ä¸å¯å†ç”Ÿçš„","è³‡æº"]},
        {o:"å…ˆè™•ç†æƒ…ç·’å†è™•ç†äº‹æƒ…", s:["å…ˆè™•ç†","æƒ…ç·’","å†è™•ç†","äº‹æƒ…"]},
        {o:"è²§çª®é™åˆ¶äº†æˆ‘å€‘çš„æƒ³åƒåŠ›", s:["è²§çª®","é™åˆ¶äº†","æˆ‘å€‘çš„","æƒ³åƒåŠ›"]},
        {o:"çœŸæ­£çš„æˆåŠŸæ˜¯æŒ‰ç…§è‡ªå·±çš„æ–¹å¼éä¸€ç”Ÿ", s:["çœŸæ­£çš„æˆåŠŸæ˜¯","æŒ‰ç…§è‡ªå·±çš„","æ–¹å¼","éä¸€ç”Ÿ"]},
        {o:"èªçŸ¥æ±ºå®šäº†ä½ è²¡å¯Œçš„ä¸Šé™", s:["èªçŸ¥æ±ºå®šäº†","ä½ è²¡å¯Œçš„","ä¸Šé™"]},
        {o:"æºé€šçš„ç›®çš„æ˜¯ç†è§£è€Œéèªªæœ", s:["æºé€šçš„","ç›®çš„æ˜¯","ç†è§£","è€Œéèªªæœ"]},
        {o:"å¹³åº¸çš„äººé€ƒé¿æŒ‘æˆ°å„ªç§€çš„äººè¿æ¥æŒ‘æˆ°", s:["å¹³åº¸çš„äºº","é€ƒé¿æŒ‘æˆ°","å„ªç§€çš„äºº","è¿æ¥æŒ‘æˆ°"]},
        {o:"ç†è²¡å°±æ˜¯ç†ç”Ÿæ´»", s:["ç†è²¡","å°±æ˜¯","ç†ç”Ÿæ´»"]},
        {o:"æ‰€æœ‰çš„å¤±å»éƒ½æœƒä»¥å¦ä¸€ç¨®æ–¹å¼æ­¸ä¾†", s:["æ‰€æœ‰çš„å¤±å»","éƒ½æœƒä»¥","å¦ä¸€ç¨®æ–¹å¼","æ­¸ä¾†"]},
        {o:"ä¸è¦åœ¨è©²å¥®é¬¥çš„å¹´ç´€é¸æ“‡å®‰é€¸", s:["ä¸è¦åœ¨","è©²å¥®é¬¥çš„","å¹´ç´€","é¸æ“‡å®‰é€¸"]},
        {o:"æœ€å¥½çš„æŠ•è³‡å°±æ˜¯è‡ªå·±çš„å¤§è…¦", s:["æœ€å¥½çš„æŠ•è³‡","å°±æ˜¯","è‡ªå·±çš„","å¤§è…¦"]},
        {o:"å¥åº·æ˜¯æ‰€æœ‰æ•¸å­—å‰é¢çš„é‚£å€‹ä¸€", s:["å¥åº·æ˜¯","æ‰€æœ‰æ•¸å­—","å‰é¢çš„","é‚£å€‹ä¸€"]},
	{o:"é¸æ“‡æ¯”åŠªåŠ›æ›´é‡è¦", s:["åŠªåŠ›","æ›´","é‡è¦","æ¯”","é¸æ“‡"]},
 	{o:"å¤±æ•—æ˜¯æˆåŠŸçš„ä¸€éƒ¨åˆ†", s:["ä¸€éƒ¨åˆ†","æˆåŠŸ","æ˜¯","çš„","å¤±æ•—"]},
 	{o:"å­¸ç¿’è®“äººä¿æŒç«¶çˆ­åŠ›", s:["ä¿æŒ","è®“","å­¸ç¿’","äºº","ç«¶çˆ­åŠ›"]},
 	{o:"æ…‹åº¦æ±ºå®šäº‹æƒ…çš„é«˜åº¦", s:["é«˜åº¦","çš„","æ±ºå®š","äº‹æƒ…","æ…‹åº¦"]},
 	{o:"æºé€šèƒ½æ¸›å°‘ä¸å¿…è¦çš„èª¤æœƒ", s:["ä¸å¿…è¦çš„","èª¤æœƒ","èƒ½","æºé€š","æ¸›å°‘"]},
 	{o:"å°ˆæ³¨æ‰èƒ½ç”¢ç”ŸçœŸæ­£çš„æˆæœ", s:["çœŸæ­£çš„","ç”¢ç”Ÿ","æˆæœ","æ‰èƒ½","å°ˆæ³¨"]},
 	{o:"è¨ˆç•«è®“ç›®æ¨™æ›´å®¹æ˜“é”æˆ", s:["æ›´","ç›®æ¨™","é”æˆ","å®¹æ˜“","è®“","è¨ˆç•«"]},
 	{o:"åœ˜éšŠåˆä½œæ¯”å–®æ‰“ç¨é¬¥æ›´å¼·", s:["å–®æ‰“ç¨é¬¥","æ›´","åœ˜éšŠåˆä½œ","æ¯”","å¼·"]},
 	{o:"ç´€å¾‹æ˜¯è‡ªç”±çš„åŸºç¤", s:["è‡ªç”±","çš„","åŸºç¤","æ˜¯","ç´€å¾‹"]},
 	{o:"å‰µæ„ä¾†è‡ªä¸åŒè§€é»çš„ç¢°æ’", s:["ä¸åŒ","è§€é»","çš„","å‰µæ„","ä¾†è‡ª","ç¢°æ’"]},
 	{o:"è¡Œå‹•å‹éç„¡æ­¢ç›¡çš„æ€è€ƒ", s:["ç„¡æ­¢ç›¡çš„","æ€è€ƒ","å‹é","è¡Œå‹•"]},
 	{o:"è‡ªä¿¡æœƒå½±éŸ¿ä»–äººå°ä½ çš„çœ‹æ³•", s:["å°","ä»–äºº","çœ‹æ³•","ä½ çš„","è‡ªä¿¡","æœƒ","å½±éŸ¿"]},
 	{o:"å•é¡Œæœ¬èº«å°±æ˜¯æˆé•·çš„æ©Ÿæœƒ", s:["æˆé•·","çš„","æ©Ÿæœƒ","å°±æ˜¯","å•é¡Œ","æœ¬èº«"]},
 	{o:"æ±ºç­–éœ€è¦è³‡è¨Šä¹Ÿéœ€è¦å‹‡æ°£", s:["ä¹Ÿ","éœ€è¦","è³‡è¨Š","å‹‡æ°£","æ±ºç­–","éœ€è¦"]},
 	{o:"ç°¡å–®å¾€å¾€æ¯”è¤‡é›œæ›´æœ‰æ•ˆ", s:["æ›´","æœ‰æ•ˆ","æ¯”","è¤‡é›œ","ç°¡å–®","å¾€å¾€"]},
 	{o:"å‚¾è½æ˜¯é«˜å“è³ªå°è©±çš„é–‹å§‹", s:["é–‹å§‹","çš„","é«˜å“è³ª","å°è©±","æ˜¯","å‚¾è½"]},
 	{o:"æ”¹è®Šé€šå¸¸å¾æ„è­˜åˆ°å•é¡Œé–‹å§‹", s:["æ„è­˜åˆ°","å•é¡Œ","é–‹å§‹","å¾","æ”¹è®Š","é€šå¸¸"]},
 	{o:"æŒçºŒé€²æ­¥æ¯”ä¸€æ¬¡æˆåŠŸæ›´é‡è¦", s:["ä¸€æ¬¡","æˆåŠŸ","æ›´","é‡è¦","æ¯”","æŒçºŒ","é€²æ­¥"]}
    ];
    for(let i=adultDB.length; i<37; i++) {
        adultDB.push({o:`æ ¼è¨€ï¼šç¬¬${i+1}å‰‡é—œæ–¼æˆé•·èˆ‡æ™ºæ…§ã€‚`, s:[`ç¬¬${i+1}å‰‡`,`æˆé•·èˆ‡æ™ºæ…§`,`é—œæ–¼`,`æ ¼è¨€`]});
    }

    // --- éŠæˆ²ç‹€æ…‹ç®¡ç† ---
    let mode = 'child-simple';
    let zoom = 1.0;
    let shuffledIndices = [];
    let currentStep = 0; // ç•¶å‰åœ¨æ‰“äº‚å¾Œçš„ç¬¬å¹¾å€‹
    const colors = ["#c0392b", "#2980b9", "#27ae60", "#8e44ad", "#d35400", "#16a085", "#2c3e50"];
    const fonts = ["Microsoft JhengHei", "PMingLiU", "serif", "cursive"];

    // éš¨æ©Ÿæ´—ç‰Œæ¼”ç®—æ³•
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function setGameMode(m, btnId) {
        mode = m;
        currentStep = 0;
        
        // åˆ‡æ› UI æ¨£å¼
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active', 'adult-active'));
        const activeBtn = document.getElementById(btnId);
        activeBtn.classList.add('active');
        
        if (m.includes('adult')) {
            document.body.classList.add('adult-theme');
            activeBtn.classList.add('adult-active');
        } else {
            document.body.classList.remove('adult-theme');
        }

        // é‡æ–°æ´—ç‰Œç´¢å¼•
        const db = mode.includes('child') ? childDB : adultDB;
        shuffledIndices = shuffle([...Array(db.length).keys()]);
        
        loadQuestion();
    }

    function loadQuestion() {
        const playArea = document.getElementById('play-area');
        const ansText = document.getElementById('answer-text');
        const qCount = document.getElementById('q-count');
        
        playArea.innerHTML = '';
        ansText.style.display = 'none';

        const db = mode.includes('child') ? childDB : adultDB;
        const dataIndex = shuffledIndices[currentStep];
        const data = db[dataIndex];

        qCount.innerText = `é€²åº¦ï¼š${currentStep + 1} / ${db.length} (éš¨æ©Ÿé¸é¡Œä¸­)`;
        ansText.innerText = "æ­£ç¢ºè§£ç­”ï¼š" + data.o;

        // æ‹†åˆ†é€»è¾‘
        let words = [];
        if (mode.endsWith('simple')) {
            words = [...data.s];
        } else {
            words = data.o.split('');
        }
        
        shuffle(words); // æ–‡å­—å…§å®¹ä¹Ÿæ‰“äº‚

        words.forEach(word => {
            if(word.trim() === "") return;
            const span = document.createElement('div');
            span.className = 'word-item';
            span.innerText = word;

            // éš¨æ©Ÿåˆå§‹å¤–è§€ (æœƒè¢« Zoom å½±éŸ¿)
            const baseSize = mode.endsWith('hard') ? 35 : 45;
            span.setAttribute('data-base', baseSize);
            
            span.style.color = colors[Math.floor(Math.random() * colors.length)];
            span.style.fontFamily = fonts[Math.floor(Math.random() * fonts.length)];
            
            // éš¨æ©Ÿåº§æ¨™ (5% ~ 85%)
            span.style.left = (Math.random() * 80 + 5) + '%';
            span.style.top = (Math.random() * 75 + 5) + '%';
            span.style.transform = `rotate(${Math.random() * 30 - 15}deg)`;

            playArea.appendChild(span);
        });
        updateZoomDisplay();
    }

    function showAns() {
        document.getElementById('answer-text').style.display = 'block';
    }

    function nextQ() {
        currentStep++;
        const db = mode.includes('child') ? childDB : adultDB;
        
        if (currentStep >= db.length) {
            alert("å…¨éƒ¨é¡Œç›®éƒ½æŒ‘æˆ°éä¸€è¼ªäº†ï¼ç³»çµ±å°‡é‡æ–°æ´—ç‰Œã€‚");
            currentStep = 0;
            shuffle(shuffledIndices);
        }
        loadQuestion();
    }

    function changeZoom(val) {
        zoom = Math.max(0.4, Math.min(2.5, zoom + val));
        document.getElementById('zoom-label').innerText = Math.round(zoom * 100) + '%';
        updateZoomDisplay();
    }

    function updateZoomDisplay() {
        document.querySelectorAll('.word-item').forEach(item => {
            const base = item.getAttribute('data-base');
            item.style.fontSize = (base * zoom) + 'px';
        });
    }

    // åˆå§‹åŒ–å•Ÿå‹•
    window.onload = () => {
        setGameMode('child-simple', 'm1');
    };
</script>

</body>
</html>